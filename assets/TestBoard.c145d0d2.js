import{s as y,n as C,c as I}from"./memory-card.ec3fbcc6.js";import{f as o,s as f,e as F,g as G,o as v,c as p,a as i,t as a,u as b,F as O,m as K,p as x}from"./index.80a9d5c3.js";const D=["onClick"],E=3,M={__name:"TestBoard",setup(L){const h=o(null),H=I.card_fronts,d=o([]),u=o([]),T=f(()=>u.value.length==0),_=o(null),r=o({min:0,sec:0}),n=f(()=>u.value.filter(s=>s.isHide==!1&&s.isOpen==!0)),m=f(()=>u.value.filter(s=>s.isHide==!1)),g=f(()=>!(m.value.length>0));async function w(){const s=H.slice();y(s);let l=s.slice(0,E);d.value=l.concat(l),y(d.value),d.value.forEach((e,t)=>{u.value.push({id:t,type:e,isOpen:!1,isHide:!1})})}function c(s,l){u.value.forEach(e=>{if(e.id==s)switch(l){case"open":e.isOpen=!0;break;case"closed":e.isOpen=!1;break;case"show":e.isHide=!1;break;case"hide":e.isHide=!0;break}})}function B(s,l){if(console.log("cardItems",h.value[s]),n.value.length<2&&(c(l,"open"),n.value.length==2)){const e=n.value[0].id,t=n.value[1].id;n.value[0].type==n.value[1].type?setTimeout(()=>{c(e,"hide"),c(t,"hide"),g.value&&(alert("\u904A\u6232\u7D50\u675F"),k("end"))},500):setTimeout(()=>{c(e,"closed"),c(t,"closed")},500)}}function k(s){switch(s){case"start":_.value=setInterval(function(){r.value.sec++,r.value.sec>=60&&(r.value.sec=0,r.value.min++)},1e3);break;case"end":clearInterval(_.value);break}}return F(async()=>{await w(),G(()=>{k("start")})}),(s,l)=>(v(),p(O,null,[i("h1",null,"isLoading: "+a(T.value),1),i("h2",null,"Spend: "+a(b(C)(r.value.min))+":"+a(b(C)(r.value.sec)),1),i("h2",null,"isGameFinish: "+a(g.value),1),i("h2",null,"Open: "+a(n.value.length),1),i("h2",null,"Rest: "+a(m.value.length),1),i("pre",null,a(d.value),1),i("ul",null,[(v(!0),p(O,null,K(u.value,(e,t)=>(v(),p("li",{key:t,onClick:S=>B(t,e.id),ref_for:!0,ref_key:"cardItems",ref:h,class:x({open:e.isOpen,hide:e.isHide,"f-to-b":!e.isOpen,"b-to-f":e.isOpen})},a(e.id)+" - "+a(e.type)+" / isOpen: "+a(e.isOpen)+" / isHide: "+a(e.isHide),11,D))),128))])],64))}};export{M as default};
